@use 'sass:map';
@use '../global/mixins' as *;
@use '../global/tokens' as tokens;

// Описываем темы централизованно
$themes: (
    sber: (
        glow: linear-gradient(97.8deg, rgba(5, 174, 235, .4) -19.65%, rgba(4, 217, 3, .4) 49.44%),
        link-bg: linear-gradient(93.28deg, #99D80A 1.08%, #25B920 53.52%, #02ADEE 103.01%),
        logo-h: 56px
    ),
    okko: (
        glow: linear-gradient(144.43deg, rgba(77, 14, 198, 0) 8.14%, #4D0EC6 79.15%),
        link-bg: #3705AB,
        logo-h: 56px
    ),
    samocat: (
        glow: linear-gradient(129.73deg, rgba(254, 52, 91, 0) 12.55%, #FE345B 72.7%),
        link-bg: #FF335F,
        logo-h: 56px
    ),
    citydrive: (
        glow: linear-gradient(144.43deg, rgba(77, 14, 198, 0) 8.14%, #4D0EC6 79.15%),
        link-bg: #5F00A5,
        logo-h: 56px
    ),
    afisha: (
        glow: linear-gradient(129.73deg, rgba(254, 52, 91, 0) 12.55%, #FE345B 72.7%),
        link-bg: #FF2100,
        logo-h: 56px
    )
);

.cards {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding-top: clamp(24px, 4vw, 50px);
}

.cards__item {
    --card-glow: linear-gradient(97.8deg, rgba(5, 174, 235, .4) -19.65%, rgba(4, 217, 3, .4) 49.44%);
    --card-link-bg: linear-gradient(93.28deg, #99D80A 1.08%, #25B920 53.52%, #02ADEE 103.01%);
    --card-logo-h: 56px;

    background: var(--color-white);
    box-shadow: tokens.$shadow-card;
    border-radius: tokens.$radius-lg;
    overflow: hidden;
    position: relative;

    display: grid;
    grid-template-columns: minmax(0, 1fr) auto;
    align-items: center;
    gap: clamp(12px, 2.5vw, 28px);
    padding-left: clamp(16px, 3vw, 28px);
    padding-right: clamp(16px, 3vw, 28px);
    padding-bottom: clamp(10px, 3vw, 16px);
    min-height: 248px;

    &::after {
        content: "";
        position: absolute;
        inset: -40% -30% -40% 45%;
        background: var(--card-glow);
        filter: blur(clamp(40px, 6vw, 140px));
        opacity: 1;
        pointer-events: none;
    }
}

.cards__content {
    position: relative;
    z-index: 1;

    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: clamp(12px, 2vw, 20px);
}

.cards__logo {
    height: var(--card-logo-h);

    img {
        display: block;
        height: 100%;
        width: auto;
        max-width: min(380px, 100%);
    }
}

.cards__title {
    height: 80px;
    display: flex;
    flex-direction: column;
    gap: 8px;

    h3 {
        @include text(clamp(26px, 3.3vw, tokens.$fs-title), 700, 1.05, var(--color-black1));
        height: 48px;
        display: flex;
        align-items: center;
    }

    p {
        @include text(clamp(16px, 2vw, tokens.$fs-text), 400, 1.2, rgba(38, 38, 38, 0.6));
        height: 24px;
        display: flex;
        align-items: center;
    }
}

.cards__link {
    align-self: flex-start;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    min-height: 52px;
    padding: 14px 20px;
    min-width: 253px;
    border-radius: tokens.$radius-md;
    text-decoration: none;

    background: var(--card-link-bg);
    color: var(--color-white);

    font-weight: 600;
    font-size: clamp(16px, 2.2vw, 24px);
    line-height: 1;
    letter-spacing: -0.03em;

    transition: transform var(--transition), filter var(--transition);

    &:hover {
        filter: brightness(1.03);
    }

    &:active {
        transform: translateY(1px);
    }

    &:focus-visible {
        outline: 2px solid rgba(0, 0, 0, 0.25);
        outline-offset: 2px;
    }
}





.cards__decor {
    position: absolute;
    z-index: 1;
    left: clamp(50%, 60vw, 100%);
}

.cards__decor--sber {
    width: clamp(250px, 22vw, 290px);
}

.cards__decor--sberprime {
    right: clamp(60px, 8vw, 120px);
    bottom: 0;
}

.cards__decor--samocat {
    width: clamp(250px, 20vw, 290px);
}

.cards__decor--citydrive {
    width: clamp(200px, 20vw, 250px);
    left: clamp(50%, 64vw, 100%);
    top: 0;
}

.cards__decor--autokeys {
    width: clamp(100px, 10vw, 135px);
    left: clamp(50%, 63vw, 100%);
    top: 25px;
}

.cards__decor--youdrive {
    width: clamp(200px, 33vw, 420px);
    left: clamp(50%, 50vw, 100%);
}

.cards__decor--popcorn {
    transform: scaleX(-1);
    bottom: 0;
    z-index: 2;
    left: clamp(50%, 55vw, 100%);
}

.cards__decor--okko {
    z-index: 1;
    bottom: clamp(6px, 1.5vw, 18px);
    left: clamp(50%, 65vw, 100%);
}

.cards__decor--sbercard {
    max-width: clamp(100px, 14vw, 157px);
}

.cards__decor--iconleft {
    left: clamp(50%, 55vw, 100%);
    top: clamp(38px, 3vw, 45px);
    max-width: clamp(56px, 11vw, 120px);

}

.cards__decor--iconright {
    left: clamp(50%, 68vw, 100%);
    top: clamp(74px, 10vw, 87px);
    max-width: clamp(56px, 11vw, 130px);

}

.cards__decor--afisha {
    left: clamp(50%, 60vw, 100%);
    width: clamp(150px, 20vw, 250px);
    bottom: 0;
    z-index: 2;
}

.cards__decor--edutoria {
    left: clamp(50%, 50vw, 100%);
    width: clamp(150px, 20vw, 250px);
    bottom: 0;
    z-index: 1;
}

.cards__decor--hare {
    left: clamp(50%, 55vw, 100%);
    width: clamp(150px, 20vw, 250px);
    bottom: 0;
    z-index: 2;
}

.cards__decor--sbericon {
    left: clamp(50%, 65vw, 100%);
    width: clamp(150px, 20vw, 250px);
    bottom: 0;
    z-index: 1;
}











@media (max-width: 720px) {
    .cards__item {
        grid-template-columns: 1fr;
        min-height: auto;
    }
    .cards__decor {
        display: none;
    }

    .cards__link {
        min-width: 100%;
    }
}

@each $name, $theme in $themes {
    .cards__item--#{$name} {
        --card-glow: #{map.get($theme, glow)};
        --card-link-bg: #{map.get($theme, link-bg)};
        --card-logo-h: #{map.get($theme, logo-h)};
    }
}

